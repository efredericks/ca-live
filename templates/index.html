<!-- 
responsive code: https://www.jgibson.id.au/blog/responsive-canvas/
-->
<!doctype html>
<html>

<head>
    <title>gvsu live cellular automata</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
    <script src="{{ url_for('static', filename='p5.min.js') }}"></script>
    <!-- <script src="{{ url_for('static', filename='responsive-canvas.js') }}"></script> -->
</head>

<body>
    <script>
        let data = JSON.parse('{{ data }}')
        console.log(data);

        let cell_w, cell_h;

        function setup() {
            createCanvas(windowWidth, windowHeight);
            background(20);

            cell_w = width / data[0].length;
            cell_h = height / data.length;
        }

        function draw() {
            noStroke();
            for (let r = 0; r < data.length; r++) {
                for (let c = 0; c < data[r].length; c++) {
                    let col = map(data[r][c], 0.0, 1.0, 0, 220);
                    fill(col);
                    rect(c*cell_w, r*cell_h, cell_w, cell_h);
                }
            }
        }

    </script>
</body>

</html>